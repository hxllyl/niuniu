<div class="panel panel-default contentBox">
  <div class="panel-heading lineTitle">
    <h3 class="panel-title">我要寻车</h3>
  </div>
  <div class="panel-body">
    <form class="form-horizontal sourceForm">
      <div id='form_select'>
        <%= render partial: 'form_select', locals: {standards: @standards, brands: @brands, car_models: @car_models, base_cars: @base_cars, outer_colors: @outer_colors, inner_colors: @inner_colors, areas: @areas} %>
      </div>
      <div class="sFormBox clearfix">
        <div class="sFormTag bfL">备注</div>
        <div class="sFormArea"><textarea class="form-control" rows="3"></textarea></div>
      </div>
      <div class="subGroup row">
        <div class="form-group">
          <input type="submit" class="btn btn-default orange btn_spacing" value="发布" />
          <input type="reset" class="btn btn-default btn_spacing" value="取消" />
        </div>
      </div>
    </form>
  </div>
</div>
<%= javascript_tag do %>
$(".selectInput").find("input.form-control").attr("disabled","true");
$(".methodSelect > .form-group").find(".selectTag").click(function (e) {
  if ($(this).hasClass("disabled")) return false;
  $(".selectInput").find("input.form-control").attr("disabled","true");
  $(this).next(".selectInput").find("input.form-control").removeAttr("disabled");
  $(".selectInput").removeClass("active");
  $(".methodSelect > .form-group").find(".selectTag").removeClass("active");
  $(this).addClass("active").siblings().removeClass("active");
  $(this).next(".selectInput").addClass("active").focus();
});

$(".selectInput").find("input.form-control").keyup(function(){
  clearNoNum(this);
});

$("#car_appearance").change(function(){
  var aa = $("#car_appearance option:selected").val();
  if (aa == "柚木棕"){
    $(this).attr("disabled","true").hide();
    $(this).next("input.form-control").removeClass("hide");
  }
});

function clearNoNum(obj){
  obj.value = obj.value.replace(/[^\d.]/g,""); //清除"数字"和"."以外的字符
  obj.value = obj.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,'$1$2.$3'); //只能输入两个小数
}
<% end -%>
